---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: pv-nginx
spec:
  capacity:
    storage: 5Gi
  volumeMode: Filesystem
  accessModes:
    - ReadOnlyMany
  persistentVolumeReclaimPolicy: Retain
  nfs:
    path:  "/nfs-data/nginx-web"
    server: 10.0.0.17
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: pvc-nginx
  namespace: default
spec:
  accessModes: ["ReadOnlyMany"]
  volumeMode: Filesystem
  resources:
    requests:
      storage: 3Gi
    limits:
      storage: 10Gi

---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-deployment
  labels:
    app: nginx
spec:
  replicas: 1
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      labels:
        app: nginx
    spec:
      volumes:
      - name: webdatapath
        persistentVolumeClaim:
          claimName: pvc-nginx
      - name: nginxdataconf
        configMap:
          name: nginx-ssl-conf
          optional: false
      - name: nginxcerts
        secret:
          secretName: nginx-ssl-secret
      containers:
      - name: nginx
        image: 10.0.0.19:80/mykubernetes/nginx-proxy:1.21.3
        ports:
        - containerPort: 80
        volumeMounts:
        - name: webdatapath
          mountPath: "/usr/share/nginx/html"
        - name: nginxdataconf
          mountPath: "/etc/nginx/conf.d/"
        - name: nginxcerts
          mountPath: /etc/nginx/certs/
          readOnly: true
---
apiVersion: v1
kind: Service
metadata:
  name: nginx-web-service
  labels:
    app: nginx-web-service
spec:
  type: NodePort
  selector:
    app: nginx
  ports:
    - protocol: TCP
      name: http
      port: 80
      targetPort: 80
      nodePort: 30086
--- 

apiVersion: v1
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURsekNDQW4rZ0F3SUJBZ0lVWXVZakpVS21HSWJPaVFoZHVSK0p3MEJQT0Vjd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1d6RUxNQWtHQTFVRUJoTUNRMDR4RURBT0JnTlZCQWdNQjBKbGFXcHBibWN4RURBT0JnTlZCQWNNQjBKbAphV3BwYm1jeER6QU5CZ05WQkFvTUJrUmxkazl3Y3pFWE1CVUdBMVVFQXd3T2QzZDNMbk56ZDJGdVp5NWpiMjB3CkhoY05NakV4TURJME1ERTBPVEl3V2hjTk1qRXhNVEl6TURFME9USXdXakJiTVFzd0NRWURWUVFHRXdKRFRqRVEKTUE0R0ExVUVDQXdIUW1WcGFtbHVaekVRTUE0R0ExVUVCd3dIUW1WcGFtbHVaekVQTUEwR0ExVUVDZ3dHUkdWMgpUM0J6TVJjd0ZRWURWUVFEREE1M2QzY3VjM04zWVc1bkxtTnZiVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFECmdnRVBBRENDQVFvQ2dnRUJBTGVWYmdQNmVIZkIyUDBDaDFqQmFIWlQwVVFLdmVwT3p1ZjljZk9mY0w1bzFiTi8KZW1CdDMzeTdWaERxalg2dUZZTlZqbkE0eFR0cjR6MlBwVHlyUE82V0N0MVdzZWIvTDh6RytneGZwK0REaGpQUgovMXJwWHg0aXViWHp2MEJWc1VUMG5PdXhSanY3SzlrOHQxaXUrNnRQWXJ1RHhRLytmTDRSNHFvV1pkZkY2VUh2CjNxcW5ta0VDcmM2cmNhaURzaE5EOXRjSGFUcEVUQ1p4Zktpakl5WEd2a3A1QjlvWXdNeW1kZXhKc0liOFhON3kKTGt4citaUzhUeEZMc0VGOUN3V2pwV1pOcFF4UXdhT2RiUjhIM3BoLzRMM2dyWHNzckZvZy9rNVBTSW1YYm5zRgp3Q3g0SXJ5REJic3p6S3cxdUw5M1dVOE5tdEltbWUyajh6NjczYmNDQXdFQUFhTlRNRkV3SFFZRFZSME9CQllFCkZMVFJIVlNicFlpRyswVWllN0RoeHRjbWZZNDFNQjhHQTFVZEl3UVlNQmFBRkxUUkhWU2JwWWlHKzBVaWU3RGgKeHRjbWZZNDFNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBRDR6WEltZApvSzExMkRPK0g4NzZnMXh0UmM4R2U3Uy9xYWtITVMzY0Ira3AwejlMT2J3cUV3dGY0UU1vNWs2UDRBdzluWnhQCjk3OE5CUzY4T2dGaVJiR1VQSSs1VFRtN2ZpM1pSZGYxOGRtREo0N2NZTWEvald2K2NCd3k3eGdMSmUzVXhWeFgKQnBjYldTeWtOb01XR3JRUWNkaEdEZW1MNUVZS1BBdVU2SDFNaUxGQmFmN3lHeldVK0hTUWNIYUtlYWdPZGVaMQoyZHlHK1FsRUlNZ2VRYXRGSHFSTnlHY3hZVHlLRHJoWTNkYWV5NWl1dk1qeWFmbTdQMXptZU1KeUlLTjhnM2xqCmIxMnRZdXlXTkU0eHl1OXhnZDI0b0FxK0d2a21VM1BYU0svbXdSaS9kQTFzVEp2WUVUR1FlUDhBRDd4cnRCWloKMGlaUVBxMm9XcHA0amU0PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb2dJQkFBS0NBUUVBdDVWdUEvcDRkOEhZL1FLSFdNRm9kbFBSUkFxOTZrN081LzF4ODU5d3ZtalZzMzk2CllHM2ZmTHRXRU9xTmZxNFZnMVdPY0RqRk8ydmpQWStsUEtzODdwWUszVmF4NXY4dnpNYjZERituNE1PR005SC8KV3VsZkhpSzV0Zk8vUUZXeFJQU2M2N0ZHTy9zcjJUeTNXSzc3cTA5aXU0UEZELzU4dmhIaXFoWmwxOFhwUWUvZQpxcWVhUVFLdHpxdHhxSU95RTBQMjF3ZHBPa1JNSm5GOHFLTWpKY2ErU25rSDJoakF6S1oxN0Vtd2h2eGMzdkl1ClRHdjVsTHhQRVV1d1FYMExCYU9sWmsybERGREJvNTF0SHdmZW1IL2d2ZUN0ZXl5c1dpRCtUazlJaVpkdWV3WEEKTEhnaXZJTUZ1elBNckRXNHYzZFpUdzJhMGlhWjdhUHpQcnZkdHdJREFRQUJBb0lCQUgvcVBwM0hCK2xweUNlQwplNHY4TnkwN2ViUlBSOFRhNUpBQXFFVjM4cmE1bFMxY3hZZ3JCbTJDbXBWdTJPaExvL0creTJDbUxjY1poVngvCm1rS0xqZ2t2d3FJMnBmNnVFRUErNUR0NjZ4NVJIbEU5SVEvWFM4OVRvdEtFNDkyUDE5U1VIRUtkWXJLb2NBVU4KcVRMQnVkbkRscWZSU0oyOFZHNmJSN1A3cHpxUUhic2c5ZFo1RGtEbm5xWno2Q1hpdmZqdnpYQU1tYkszajJWYwpDSEg0WUlMRlIvUWxpYm1jbWhCRDUvUEc2L3ZtOHhHbkt1am9scXhQQUNuYzZjcTFlaWFNVmFhaDQ2bk9RQ1pFCkk1blJtYk15My9HMTNVYnp4ZC93Qm9jQStVVkdkaGMyM1FEWDF0VFlxeEV6eHFHck55dC8vT2wya2JnTytBVHQKRDR1YS9BRUNnWUVBMmFxblUvclB3aUIwSmRIbU5wUnhJN1A3eDAzUGw0ODRQK3pKNjR0c0hBREFrOEgyVkdyVQpWdFlpMkJjTmdLNXR0VWVIcWVEanBUUFhKelN0NWoweDM5WFR3NjJ5ZmZtNDNIa1ZTVEgyTlRYejhEVGlRTDRhCnh1a1czNDlEUll2SWlTaUtXOXMwQ3UwQ2FNdEdob2FwWkQvdGRsMXBpTmpIenFFb2pmWW1obkVDZ1lFQTErb3MKR2hMSmQwbFdNL05XZGZTZDdSNURUbVNuaDJiSGdaRit4Q255a3V3Zlpxc1BBR2FlNWphU0F3OUd4YzVucERseAp0bUc4VzIvdXhmTnFqUHFjT3FNZ3o2elFNazhoRkEyZjhlSzVkOWdwS2Vxa3BGNmNmNXplZllTelkwcnpWdVRNCkw4enU3UXI1dE92T3BKR2Y3SzNmYVhCZG1CVFFjU0U0QWNKVnlxY0NnWUE1U1JDQXFhSEVGWVo3N2FJSSswaEwKZlRMbVlUUWhUekFlb3RNQml0QUpEcW1nT1l2NjY2SzJ0K1N6dWwxellIUy9JUFF6WVZ5SVBmeUI5UHRQZlF1RApQV05lUEhpZGJ2dVlDc1h2WFpiT3FrUnBFNEg0U0JBRUNaUmJnZmpTZE5keVFaa29VNmgrdDZIS3NyVDg4clBpCkRuRVFsY1VRbnZ6M0JMTUhxYUM2QVFLQmdEWVI4cEZrK3diZ1dySVAwaXNmNHh5cVkzaVNSRkhvTHpZSFZaT1MKWGFqbGNNZXBOc3lHNW13SVpuQlZ0d2Q2TlFJdlVJYTMydythN0ZTdUxKUzVmYjVCYzhvT0lPVTRZN1E5NVR3Ugo1eGhZRFpidHArVnh2QWRKSlg2UmFNc0l6ZitJdEltVDdKRjRHaWh3bFFNcFpMOUVtNW93QllBOFZpYStodVFKCjRxb3BBb0dBWUxQWUZhTTd0RUJ3SEZ5ckZ3UDROSHJRSkRjclBVcXFnOWN0VStITmtqYnVyK20zQ29zcVZjWTAKZi9sT0lsVDBZOFRKanAzeDN1YVhwL01xQ1h4b0hYcUZQMmREMkVHcERhU05uUVRsRm5WNWd4akNaODZZdHNhRQp3cGhPalpXV3BrM3lGbWdJZzRQbzhZSXBWRUkreGJCeEJIcmg3RDU3SUdGajlQcWdETzg9Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
kind: Secret
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"v1","data":{"tls.crt":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURsekNDQW4rZ0F3SUJBZ0lVWXVZakpVS21HSWJPaVFoZHVSK0p3MEJQT0Vjd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1d6RUxNQWtHQTFVRUJoTUNRMDR4RURBT0JnTlZCQWdNQjBKbGFXcHBibWN4RURBT0JnTlZCQWNNQjBKbAphV3BwYm1jeER6QU5CZ05WQkFvTUJrUmxkazl3Y3pFWE1CVUdBMVVFQXd3T2QzZDNMbk56ZDJGdVp5NWpiMjB3CkhoY05NakV4TURJME1ERTBPVEl3V2hjTk1qRXhNVEl6TURFME9USXdXakJiTVFzd0NRWURWUVFHRXdKRFRqRVEKTUE0R0ExVUVDQXdIUW1WcGFtbHVaekVRTUE0R0ExVUVCd3dIUW1WcGFtbHVaekVQTUEwR0ExVUVDZ3dHUkdWMgpUM0J6TVJjd0ZRWURWUVFEREE1M2QzY3VjM04zWVc1bkxtTnZiVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFECmdnRVBBRENDQVFvQ2dnRUJBTGVWYmdQNmVIZkIyUDBDaDFqQmFIWlQwVVFLdmVwT3p1ZjljZk9mY0w1bzFiTi8KZW1CdDMzeTdWaERxalg2dUZZTlZqbkE0eFR0cjR6MlBwVHlyUE82V0N0MVdzZWIvTDh6RytneGZwK0REaGpQUgovMXJwWHg0aXViWHp2MEJWc1VUMG5PdXhSanY3SzlrOHQxaXUrNnRQWXJ1RHhRLytmTDRSNHFvV1pkZkY2VUh2CjNxcW5ta0VDcmM2cmNhaURzaE5EOXRjSGFUcEVUQ1p4Zktpakl5WEd2a3A1QjlvWXdNeW1kZXhKc0liOFhON3kKTGt4citaUzhUeEZMc0VGOUN3V2pwV1pOcFF4UXdhT2RiUjhIM3BoLzRMM2dyWHNzckZvZy9rNVBTSW1YYm5zRgp3Q3g0SXJ5REJic3p6S3cxdUw5M1dVOE5tdEltbWUyajh6NjczYmNDQXdFQUFhTlRNRkV3SFFZRFZSME9CQllFCkZMVFJIVlNicFlpRyswVWllN0RoeHRjbWZZNDFNQjhHQTFVZEl3UVlNQmFBRkxUUkhWU2JwWWlHKzBVaWU3RGgKeHRjbWZZNDFNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBRDR6WEltZApvSzExMkRPK0g4NzZnMXh0UmM4R2U3Uy9xYWtITVMzY0Ira3AwejlMT2J3cUV3dGY0UU1vNWs2UDRBdzluWnhQCjk3OE5CUzY4T2dGaVJiR1VQSSs1VFRtN2ZpM1pSZGYxOGRtREo0N2NZTWEvald2K2NCd3k3eGdMSmUzVXhWeFgKQnBjYldTeWtOb01XR3JRUWNkaEdEZW1MNUVZS1BBdVU2SDFNaUxGQmFmN3lHeldVK0hTUWNIYUtlYWdPZGVaMQoyZHlHK1FsRUlNZ2VRYXRGSHFSTnlHY3hZVHlLRHJoWTNkYWV5NWl1dk1qeWFmbTdQMXptZU1KeUlLTjhnM2xqCmIxMnRZdXlXTkU0eHl1OXhnZDI0b0FxK0d2a21VM1BYU0svbXdSaS9kQTFzVEp2WUVUR1FlUDhBRDd4cnRCWloKMGlaUVBxMm9XcHA0amU0PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==","tls.key":"LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb2dJQkFBS0NBUUVBdDVWdUEvcDRkOEhZL1FLSFdNRm9kbFBSUkFxOTZrN081LzF4ODU5d3ZtalZzMzk2CllHM2ZmTHRXRU9xTmZxNFZnMVdPY0RqRk8ydmpQWStsUEtzODdwWUszVmF4NXY4dnpNYjZERituNE1PR005SC8KV3VsZkhpSzV0Zk8vUUZXeFJQU2M2N0ZHTy9zcjJUeTNXSzc3cTA5aXU0UEZELzU4dmhIaXFoWmwxOFhwUWUvZQpxcWVhUVFLdHpxdHhxSU95RTBQMjF3ZHBPa1JNSm5GOHFLTWpKY2ErU25rSDJoakF6S1oxN0Vtd2h2eGMzdkl1ClRHdjVsTHhQRVV1d1FYMExCYU9sWmsybERGREJvNTF0SHdmZW1IL2d2ZUN0ZXl5c1dpRCtUazlJaVpkdWV3WEEKTEhnaXZJTUZ1elBNckRXNHYzZFpUdzJhMGlhWjdhUHpQcnZkdHdJREFRQUJBb0lCQUgvcVBwM0hCK2xweUNlQwplNHY4TnkwN2ViUlBSOFRhNUpBQXFFVjM4cmE1bFMxY3hZZ3JCbTJDbXBWdTJPaExvL0creTJDbUxjY1poVngvCm1rS0xqZ2t2d3FJMnBmNnVFRUErNUR0NjZ4NVJIbEU5SVEvWFM4OVRvdEtFNDkyUDE5U1VIRUtkWXJLb2NBVU4KcVRMQnVkbkRscWZSU0oyOFZHNmJSN1A3cHpxUUhic2c5ZFo1RGtEbm5xWno2Q1hpdmZqdnpYQU1tYkszajJWYwpDSEg0WUlMRlIvUWxpYm1jbWhCRDUvUEc2L3ZtOHhHbkt1am9scXhQQUNuYzZjcTFlaWFNVmFhaDQ2bk9RQ1pFCkk1blJtYk15My9HMTNVYnp4ZC93Qm9jQStVVkdkaGMyM1FEWDF0VFlxeEV6eHFHck55dC8vT2wya2JnTytBVHQKRDR1YS9BRUNnWUVBMmFxblUvclB3aUIwSmRIbU5wUnhJN1A3eDAzUGw0ODRQK3pKNjR0c0hBREFrOEgyVkdyVQpWdFlpMkJjTmdLNXR0VWVIcWVEanBUUFhKelN0NWoweDM5WFR3NjJ5ZmZtNDNIa1ZTVEgyTlRYejhEVGlRTDRhCnh1a1czNDlEUll2SWlTaUtXOXMwQ3UwQ2FNdEdob2FwWkQvdGRsMXBpTmpIenFFb2pmWW1obkVDZ1lFQTErb3MKR2hMSmQwbFdNL05XZGZTZDdSNURUbVNuaDJiSGdaRit4Q255a3V3Zlpxc1BBR2FlNWphU0F3OUd4YzVucERseAp0bUc4VzIvdXhmTnFqUHFjT3FNZ3o2elFNazhoRkEyZjhlSzVkOWdwS2Vxa3BGNmNmNXplZllTelkwcnpWdVRNCkw4enU3UXI1dE92T3BKR2Y3SzNmYVhCZG1CVFFjU0U0QWNKVnlxY0NnWUE1U1JDQXFhSEVGWVo3N2FJSSswaEwKZlRMbVlUUWhUekFlb3RNQml0QUpEcW1nT1l2NjY2SzJ0K1N6dWwxellIUy9JUFF6WVZ5SVBmeUI5UHRQZlF1RApQV05lUEhpZGJ2dVlDc1h2WFpiT3FrUnBFNEg0U0JBRUNaUmJnZmpTZE5keVFaa29VNmgrdDZIS3NyVDg4clBpCkRuRVFsY1VRbnZ6M0JMTUhxYUM2QVFLQmdEWVI4cEZrK3diZ1dySVAwaXNmNHh5cVkzaVNSRkhvTHpZSFZaT1MKWGFqbGNNZXBOc3lHNW13SVpuQlZ0d2Q2TlFJdlVJYTMydythN0ZTdUxKUzVmYjVCYzhvT0lPVTRZN1E5NVR3Ugo1eGhZRFpidHArVnh2QWRKSlg2UmFNc0l6ZitJdEltVDdKRjRHaWh3bFFNcFpMOUVtNW93QllBOFZpYStodVFKCjRxb3BBb0dBWUxQWUZhTTd0RUJ3SEZ5ckZ3UDROSHJRSkRjclBVcXFnOWN0VStITmtqYnVyK20zQ29zcVZjWTAKZi9sT0lsVDBZOFRKanAzeDN1YVhwL01xQ1h4b0hYcUZQMmREMkVHcERhU05uUVRsRm5WNWd4akNaODZZdHNhRQp3cGhPalpXV3BrM3lGbWdJZzRQbzhZSXBWRUkreGJCeEJIcmg3RDU3SUdGajlQcWdETzg9Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg=="},"kind":"Secret","metadata":{"annotations":{},"name":"nginx-ssl-secret","namespace":"default"},"type":"kubernetes.io/tls"}
  name: nginx-ssl-secret
  namespace: default
type: kubernetes.io/tls
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: nginx-ssl-conf
data:
  myserver-gzip.cfg: |
    gzip on;
    gzip_comp_level 5;
    gzip_proxied     expired no-cache no-store private auth;
    gzip_types text/plain text/css application/xml text/javascript;
  myserver-status.cfg: |
    location /nginx-status {
        stub_status on;
        access_log off;
    }
  default.conf: "server {\n    listen 443 ssl;\n    server_name www.sswang.com;\n\n
    \   ssl_certificate /etc/nginx/certs/tls.crt; \n    ssl_certificate_key /etc/nginx/certs/tls.key;\n\n
    \   ssl_session_timeout 5m;\n\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2; \n\n    ssl_ciphers
    ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; \n    ssl_prefer_server_ciphers
    on;\n\n    include /etc/nginx/conf.d/myserver-*.cfg;\n\n    location / {\n        root
    /usr/share/nginx/html;\n    }\n}\n\nserver {\n    listen 80;\n    server_name
    www.sswang.com; \n    return 301 https://$host$request_uri; \n}\n"
apiVersion: v1
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURsekNDQW4rZ0F3SUJBZ0lVWXVZakpVS21HSWJPaVFoZHVSK0p3MEJQT0Vjd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1d6RUxNQWtHQTFVRUJoTUNRMDR4RURBT0JnTlZCQWdNQjBKbGFXcHBibWN4RURBT0JnTlZCQWNNQjBKbAphV3BwYm1jeER6QU5CZ05WQkFvTUJrUmxkazl3Y3pFWE1CVUdBMVVFQXd3T2QzZDNMbk56ZDJGdVp5NWpiMjB3CkhoY05NakV4TURJME1ERTBPVEl3V2hjTk1qRXhNVEl6TURFME9USXdXakJiTVFzd0NRWURWUVFHRXdKRFRqRVEKTUE0R0ExVUVDQXdIUW1WcGFtbHVaekVRTUE0R0ExVUVCd3dIUW1WcGFtbHVaekVQTUEwR0ExVUVDZ3dHUkdWMgpUM0J6TVJjd0ZRWURWUVFEREE1M2QzY3VjM04zWVc1bkxtTnZiVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFECmdnRVBBRENDQVFvQ2dnRUJBTGVWYmdQNmVIZkIyUDBDaDFqQmFIWlQwVVFLdmVwT3p1ZjljZk9mY0w1bzFiTi8KZW1CdDMzeTdWaERxalg2dUZZTlZqbkE0eFR0cjR6MlBwVHlyUE82V0N0MVdzZWIvTDh6RytneGZwK0REaGpQUgovMXJwWHg0aXViWHp2MEJWc1VUMG5PdXhSanY3SzlrOHQxaXUrNnRQWXJ1RHhRLytmTDRSNHFvV1pkZkY2VUh2CjNxcW5ta0VDcmM2cmNhaURzaE5EOXRjSGFUcEVUQ1p4Zktpakl5WEd2a3A1QjlvWXdNeW1kZXhKc0liOFhON3kKTGt4citaUzhUeEZMc0VGOUN3V2pwV1pOcFF4UXdhT2RiUjhIM3BoLzRMM2dyWHNzckZvZy9rNVBTSW1YYm5zRgp3Q3g0SXJ5REJic3p6S3cxdUw5M1dVOE5tdEltbWUyajh6NjczYmNDQXdFQUFhTlRNRkV3SFFZRFZSME9CQllFCkZMVFJIVlNicFlpRyswVWllN0RoeHRjbWZZNDFNQjhHQTFVZEl3UVlNQmFBRkxUUkhWU2JwWWlHKzBVaWU3RGgKeHRjbWZZNDFNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBRDR6WEltZApvSzExMkRPK0g4NzZnMXh0UmM4R2U3Uy9xYWtITVMzY0Ira3AwejlMT2J3cUV3dGY0UU1vNWs2UDRBdzluWnhQCjk3OE5CUzY4T2dGaVJiR1VQSSs1VFRtN2ZpM1pSZGYxOGRtREo0N2NZTWEvald2K2NCd3k3eGdMSmUzVXhWeFgKQnBjYldTeWtOb01XR3JRUWNkaEdEZW1MNUVZS1BBdVU2SDFNaUxGQmFmN3lHeldVK0hTUWNIYUtlYWdPZGVaMQoyZHlHK1FsRUlNZ2VRYXRGSHFSTnlHY3hZVHlLRHJoWTNkYWV5NWl1dk1qeWFmbTdQMXptZU1KeUlLTjhnM2xqCmIxMnRZdXlXTkU0eHl1OXhnZDI0b0FxK0d2a21VM1BYU0svbXdSaS9kQTFzVEp2WUVUR1FlUDhBRDd4cnRCWloKMGlaUVBxMm9XcHA0amU0PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb2dJQkFBS0NBUUVBdDVWdUEvcDRkOEhZL1FLSFdNRm9kbFBSUkFxOTZrN081LzF4ODU5d3ZtalZzMzk2CllHM2ZmTHRXRU9xTmZxNFZnMVdPY0RqRk8ydmpQWStsUEtzODdwWUszVmF4NXY4dnpNYjZERituNE1PR005SC8KV3VsZkhpSzV0Zk8vUUZXeFJQU2M2N0ZHTy9zcjJUeTNXSzc3cTA5aXU0UEZELzU4dmhIaXFoWmwxOFhwUWUvZQpxcWVhUVFLdHpxdHhxSU95RTBQMjF3ZHBPa1JNSm5GOHFLTWpKY2ErU25rSDJoakF6S1oxN0Vtd2h2eGMzdkl1ClRHdjVsTHhQRVV1d1FYMExCYU9sWmsybERGREJvNTF0SHdmZW1IL2d2ZUN0ZXl5c1dpRCtUazlJaVpkdWV3WEEKTEhnaXZJTUZ1elBNckRXNHYzZFpUdzJhMGlhWjdhUHpQcnZkdHdJREFRQUJBb0lCQUgvcVBwM0hCK2xweUNlQwplNHY4TnkwN2ViUlBSOFRhNUpBQXFFVjM4cmE1bFMxY3hZZ3JCbTJDbXBWdTJPaExvL0creTJDbUxjY1poVngvCm1rS0xqZ2t2d3FJMnBmNnVFRUErNUR0NjZ4NVJIbEU5SVEvWFM4OVRvdEtFNDkyUDE5U1VIRUtkWXJLb2NBVU4KcVRMQnVkbkRscWZSU0oyOFZHNmJSN1A3cHpxUUhic2c5ZFo1RGtEbm5xWno2Q1hpdmZqdnpYQU1tYkszajJWYwpDSEg0WUlMRlIvUWxpYm1jbWhCRDUvUEc2L3ZtOHhHbkt1am9scXhQQUNuYzZjcTFlaWFNVmFhaDQ2bk9RQ1pFCkk1blJtYk15My9HMTNVYnp4ZC93Qm9jQStVVkdkaGMyM1FEWDF0VFlxeEV6eHFHck55dC8vT2wya2JnTytBVHQKRDR1YS9BRUNnWUVBMmFxblUvclB3aUIwSmRIbU5wUnhJN1A3eDAzUGw0ODRQK3pKNjR0c0hBREFrOEgyVkdyVQpWdFlpMkJjTmdLNXR0VWVIcWVEanBUUFhKelN0NWoweDM5WFR3NjJ5ZmZtNDNIa1ZTVEgyTlRYejhEVGlRTDRhCnh1a1czNDlEUll2SWlTaUtXOXMwQ3UwQ2FNdEdob2FwWkQvdGRsMXBpTmpIenFFb2pmWW1obkVDZ1lFQTErb3MKR2hMSmQwbFdNL05XZGZTZDdSNURUbVNuaDJiSGdaRit4Q255a3V3Zlpxc1BBR2FlNWphU0F3OUd4YzVucERseAp0bUc4VzIvdXhmTnFqUHFjT3FNZ3o2elFNazhoRkEyZjhlSzVkOWdwS2Vxa3BGNmNmNXplZllTelkwcnpWdVRNCkw4enU3UXI1dE92T3BKR2Y3SzNmYVhCZG1CVFFjU0U0QWNKVnlxY0NnWUE1U1JDQXFhSEVGWVo3N2FJSSswaEwKZlRMbVlUUWhUekFlb3RNQml0QUpEcW1nT1l2NjY2SzJ0K1N6dWwxellIUy9JUFF6WVZ5SVBmeUI5UHRQZlF1RApQV05lUEhpZGJ2dVlDc1h2WFpiT3FrUnBFNEg0U0JBRUNaUmJnZmpTZE5keVFaa29VNmgrdDZIS3NyVDg4clBpCkRuRVFsY1VRbnZ6M0JMTUhxYUM2QVFLQmdEWVI4cEZrK3diZ1dySVAwaXNmNHh5cVkzaVNSRkhvTHpZSFZaT1MKWGFqbGNNZXBOc3lHNW13SVpuQlZ0d2Q2TlFJdlVJYTMydythN0ZTdUxKUzVmYjVCYzhvT0lPVTRZN1E5NVR3Ugo1eGhZRFpidHArVnh2QWRKSlg2UmFNc0l6ZitJdEltVDdKRjRHaWh3bFFNcFpMOUVtNW93QllBOFZpYStodVFKCjRxb3BBb0dBWUxQWUZhTTd0RUJ3SEZ5ckZ3UDROSHJRSkRjclBVcXFnOWN0VStITmtqYnVyK20zQ29zcVZjWTAKZi9sT0lsVDBZOFRKanAzeDN1YVhwL01xQ1h4b0hYcUZQMmREMkVHcERhU05uUVRsRm5WNWd4akNaODZZdHNhRQp3cGhPalpXV3BrM3lGbWdJZzRQbzhZSXBWRUkreGJCeEJIcmg3RDU3SUdGajlQcWdETzg9Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
kind: Secret
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"v1","data":{"tls.crt":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURsekNDQW4rZ0F3SUJBZ0lVWXVZakpVS21HSWJPaVFoZHVSK0p3MEJQT0Vjd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1d6RUxNQWtHQTFVRUJoTUNRMDR4RURBT0JnTlZCQWdNQjBKbGFXcHBibWN4RURBT0JnTlZCQWNNQjBKbAphV3BwYm1jeER6QU5CZ05WQkFvTUJrUmxkazl3Y3pFWE1CVUdBMVVFQXd3T2QzZDNMbk56ZDJGdVp5NWpiMjB3CkhoY05NakV4TURJME1ERTBPVEl3V2hjTk1qRXhNVEl6TURFME9USXdXakJiTVFzd0NRWURWUVFHRXdKRFRqRVEKTUE0R0ExVUVDQXdIUW1WcGFtbHVaekVRTUE0R0ExVUVCd3dIUW1WcGFtbHVaekVQTUEwR0ExVUVDZ3dHUkdWMgpUM0J6TVJjd0ZRWURWUVFEREE1M2QzY3VjM04zWVc1bkxtTnZiVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFECmdnRVBBRENDQVFvQ2dnRUJBTGVWYmdQNmVIZkIyUDBDaDFqQmFIWlQwVVFLdmVwT3p1ZjljZk9mY0w1bzFiTi8KZW1CdDMzeTdWaERxalg2dUZZTlZqbkE0eFR0cjR6MlBwVHlyUE82V0N0MVdzZWIvTDh6RytneGZwK0REaGpQUgovMXJwWHg0aXViWHp2MEJWc1VUMG5PdXhSanY3SzlrOHQxaXUrNnRQWXJ1RHhRLytmTDRSNHFvV1pkZkY2VUh2CjNxcW5ta0VDcmM2cmNhaURzaE5EOXRjSGFUcEVUQ1p4Zktpakl5WEd2a3A1QjlvWXdNeW1kZXhKc0liOFhON3kKTGt4citaUzhUeEZMc0VGOUN3V2pwV1pOcFF4UXdhT2RiUjhIM3BoLzRMM2dyWHNzckZvZy9rNVBTSW1YYm5zRgp3Q3g0SXJ5REJic3p6S3cxdUw5M1dVOE5tdEltbWUyajh6NjczYmNDQXdFQUFhTlRNRkV3SFFZRFZSME9CQllFCkZMVFJIVlNicFlpRyswVWllN0RoeHRjbWZZNDFNQjhHQTFVZEl3UVlNQmFBRkxUUkhWU2JwWWlHKzBVaWU3RGgKeHRjbWZZNDFNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBRDR6WEltZApvSzExMkRPK0g4NzZnMXh0UmM4R2U3Uy9xYWtITVMzY0Ira3AwejlMT2J3cUV3dGY0UU1vNWs2UDRBdzluWnhQCjk3OE5CUzY4T2dGaVJiR1VQSSs1VFRtN2ZpM1pSZGYxOGRtREo0N2NZTWEvald2K2NCd3k3eGdMSmUzVXhWeFgKQnBjYldTeWtOb01XR3JRUWNkaEdEZW1MNUVZS1BBdVU2SDFNaUxGQmFmN3lHeldVK0hTUWNIYUtlYWdPZGVaMQoyZHlHK1FsRUlNZ2VRYXRGSHFSTnlHY3hZVHlLRHJoWTNkYWV5NWl1dk1qeWFmbTdQMXptZU1KeUlLTjhnM2xqCmIxMnRZdXlXTkU0eHl1OXhnZDI0b0FxK0d2a21VM1BYU0svbXdSaS9kQTFzVEp2WUVUR1FlUDhBRDd4cnRCWloKMGlaUVBxMm9XcHA0amU0PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==","tls.key":"LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb2dJQkFBS0NBUUVBdDVWdUEvcDRkOEhZL1FLSFdNRm9kbFBSUkFxOTZrN081LzF4ODU5d3ZtalZzMzk2CllHM2ZmTHRXRU9xTmZxNFZnMVdPY0RqRk8ydmpQWStsUEtzODdwWUszVmF4NXY4dnpNYjZERituNE1PR005SC8KV3VsZkhpSzV0Zk8vUUZXeFJQU2M2N0ZHTy9zcjJUeTNXSzc3cTA5aXU0UEZELzU4dmhIaXFoWmwxOFhwUWUvZQpxcWVhUVFLdHpxdHhxSU95RTBQMjF3ZHBPa1JNSm5GOHFLTWpKY2ErU25rSDJoakF6S1oxN0Vtd2h2eGMzdkl1ClRHdjVsTHhQRVV1d1FYMExCYU9sWmsybERGREJvNTF0SHdmZW1IL2d2ZUN0ZXl5c1dpRCtUazlJaVpkdWV3WEEKTEhnaXZJTUZ1elBNckRXNHYzZFpUdzJhMGlhWjdhUHpQcnZkdHdJREFRQUJBb0lCQUgvcVBwM0hCK2xweUNlQwplNHY4TnkwN2ViUlBSOFRhNUpBQXFFVjM4cmE1bFMxY3hZZ3JCbTJDbXBWdTJPaExvL0creTJDbUxjY1poVngvCm1rS0xqZ2t2d3FJMnBmNnVFRUErNUR0NjZ4NVJIbEU5SVEvWFM4OVRvdEtFNDkyUDE5U1VIRUtkWXJLb2NBVU4KcVRMQnVkbkRscWZSU0oyOFZHNmJSN1A3cHpxUUhic2c5ZFo1RGtEbm5xWno2Q1hpdmZqdnpYQU1tYkszajJWYwpDSEg0WUlMRlIvUWxpYm1jbWhCRDUvUEc2L3ZtOHhHbkt1am9scXhQQUNuYzZjcTFlaWFNVmFhaDQ2bk9RQ1pFCkk1blJtYk15My9HMTNVYnp4ZC93Qm9jQStVVkdkaGMyM1FEWDF0VFlxeEV6eHFHck55dC8vT2wya2JnTytBVHQKRDR1YS9BRUNnWUVBMmFxblUvclB3aUIwSmRIbU5wUnhJN1A3eDAzUGw0ODRQK3pKNjR0c0hBREFrOEgyVkdyVQpWdFlpMkJjTmdLNXR0VWVIcWVEanBUUFhKelN0NWoweDM5WFR3NjJ5ZmZtNDNIa1ZTVEgyTlRYejhEVGlRTDRhCnh1a1czNDlEUll2SWlTaUtXOXMwQ3UwQ2FNdEdob2FwWkQvdGRsMXBpTmpIenFFb2pmWW1obkVDZ1lFQTErb3MKR2hMSmQwbFdNL05XZGZTZDdSNURUbVNuaDJiSGdaRit4Q255a3V3Zlpxc1BBR2FlNWphU0F3OUd4YzVucERseAp0bUc4VzIvdXhmTnFqUHFjT3FNZ3o2elFNazhoRkEyZjhlSzVkOWdwS2Vxa3BGNmNmNXplZllTelkwcnpWdVRNCkw4enU3UXI1dE92T3BKR2Y3SzNmYVhCZG1CVFFjU0U0QWNKVnlxY0NnWUE1U1JDQXFhSEVGWVo3N2FJSSswaEwKZlRMbVlUUWhUekFlb3RNQml0QUpEcW1nT1l2NjY2SzJ0K1N6dWwxellIUy9JUFF6WVZ5SVBmeUI5UHRQZlF1RApQV05lUEhpZGJ2dVlDc1h2WFpiT3FrUnBFNEg0U0JBRUNaUmJnZmpTZE5keVFaa29VNmgrdDZIS3NyVDg4clBpCkRuRVFsY1VRbnZ6M0JMTUhxYUM2QVFLQmdEWVI4cEZrK3diZ1dySVAwaXNmNHh5cVkzaVNSRkhvTHpZSFZaT1MKWGFqbGNNZXBOc3lHNW13SVpuQlZ0d2Q2TlFJdlVJYTMydythN0ZTdUxKUzVmYjVCYzhvT0lPVTRZN1E5NVR3Ugo1eGhZRFpidHArVnh2QWRKSlg2UmFNc0l6ZitJdEltVDdKRjRHaWh3bFFNcFpMOUVtNW93QllBOFZpYStodVFKCjRxb3BBb0dBWUxQWUZhTTd0RUJ3SEZ5ckZ3UDROSHJRSkRjclBVcXFnOWN0VStITmtqYnVyK20zQ29zcVZjWTAKZi9sT0lsVDBZOFRKanAzeDN1YVhwL01xQ1h4b0hYcUZQMmREMkVHcERhU05uUVRsRm5WNWd4akNaODZZdHNhRQp3cGhPalpXV3BrM3lGbWdJZzRQbzhZSXBWRUkreGJCeEJIcmg3RDU3SUdGajlQcWdETzg9Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg=="},"kind":"Secret","metadata":{"annotations":{},"name":"nginx-ssl-secret","namespace":"default"},"type":"kubernetes.io/tls"}
  name: nginx-ssl-secret
  namespace: default
type: kubernetes.io/tls
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: nginx-ssl-conf
data:
  myserver-gzip.cfg: |
    gzip on;
    gzip_comp_level 5;
    gzip_proxied     expired no-cache no-store private auth;
    gzip_types text/plain text/css application/xml text/javascript;
  myserver-status.cfg: |
    location /nginx-status {
        stub_status on;
        access_log off;
    }
  default.conf: "server {\n    listen 443 ssl;\n    server_name www.sswang.com;\n\n
    \   ssl_certificate /etc/nginx/certs/tls.crt; \n    ssl_certificate_key /etc/nginx/certs/tls.key;\n\n
    \   ssl_session_timeout 5m;\n\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2; \n\n    ssl_ciphers
    ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; \n    ssl_prefer_server_ciphers
    on;\n\n    include /etc/nginx/conf.d/myserver-*.cfg;\n\n    location / {\n        root
    /usr/share/nginx/html;\n    }\n}\n\nserver {\n    listen 80;\n    server_name
    www.sswang.com; \n    return 301 https://$host$request_uri; \n}\n"
